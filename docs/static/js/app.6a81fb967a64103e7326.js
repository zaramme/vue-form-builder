webpackJsonp([1],{"4FzG":function(e,t){},"6Rh/":function(e,t,i){"use strict";var n={data:function(){return{editing_data:null,editable_keys:["title"]}},methods:{generateUUID:function(){return i("DtRx")()}}};t.a={mixins:[n],methods:{addSiblingRow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this._createNewRow(e);this.value.splice(t+1,0,i)},addChildRow:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.value.items||this.$set(this.value,"items",[]);var t=this._createNewRow(e);this.value.items.splice(0,0,t)},deleteSelf:function(){var e=this;this.value.items?this.$confirm("This command will also delete items inside. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){e.$emit("delete",e.IndexOfRow)}).catch(function(){}):this.$emit("delete",this.IndexOfRow)},deleteSiblingRow:function(e){this.value.splice(e,1)},swapSiblingRow:function(e,t){if(this.value[e]&&this.value[t]){var i=this.value[e];this.$set(this.value,e,this.value[t]),this.$set(this.value,t,i)}},moveRowUpward:function(){this.$emit("swap",this.IndexOfRow,this.IndexOfRow-1)},moveRowDownward:function(){this.$emit("swap",this.IndexOfRow,this.IndexOfRow+1)},_createNewRow:function(e){var t={uuid:this.generateUUID(),title:"new object"};for(var i in e)t[i]=e[i];return t}}}},BFrk:function(e,t){},DdtQ:function(e,t){},IvGn:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App"},o,!1,function(e){i("o8nZ")},null,null).exports,s=i("NYxO"),l=i("zL8q"),r=i.n(l),d=i("wUZ8"),c=i.n(d),u=i("/ocq"),p=(i("tvR6"),i("fZjL")),v=i.n(p),m=i("wqFC"),f={name:"ZForm",props:["value"],mixins:[i("6Rh/").a],components:{ZFormContainer:m.default},methods:{addNewRow:function(){this.addChildRow({type:"page",title:"new page"})}},computed:{isFormEmpty:function(){return!v()(this.value).length}}},w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"zform"},[e.isFormEmpty?[i("div",{staticClass:"row page"},[i("el-button",{attrs:{icon:"el-icon-plus",round:""},on:{click:e.addNewRow}},[e._v("Add first page")])],1)]:[i("z-form-container",{model:{value:e.value.items,callback:function(t){e.$set(e.value,"items",t)},expression:"value.items"}})]],2)},staticRenderFns:[]};var h=i("VU/8")(f,w,!1,function(e){i("VGwM")},"data-v-3a4a0426",null).exports,_=i("mvHQ"),g=i.n(_),b={uuid:"ed0906ee-482b-41dd-bcb0-ab17608d084e",type:"form",items:[{uuid:"ba3ca80d-549e-4e0d-b7eb-58300f011c34",type:"page",title:"First Page",items:[{uuid:"db8a01e6-7308-48fc-8728-4a60933ac757",title:"How old are you?",type:"question",response_type:"number"},{type:"question",title:"What is your name?",uuid:"2bb55331-9324-40cb-8205-b382c757cf15",response_type:"text"},{type:"section",title:"Important Section",uuid:"38a92c85-4028-41c8-ab15-ad24f97cf33e",items:[{uuid:"85211c02-0f39-4a31-a5a9-48c3a3b5d125",title:"What do you want?",type:"question",response_type:"text"},{type:"question",title:"How much of that do you want?",uuid:"2ce4f3db-1cea-4219-8e8b-b9276436d130",response_type:"number"},{type:"section",title:"Even More Important Section",uuid:"4b196700-a3d4-4f5d-b0a1-0b7dc575e5e9",items:[{uuid:"d45a31a7-801c-4a9a-8c71-5b5f5656a155",title:"How much do you have?",type:"question",response_type:"number"}]}]}]},{type:"page",title:"Second Page",uuid:"2785bae2-9e44-412c-aa7e-da802acf9ea5",items:[{uuid:"3e7fff9a-22c5-4d03-a844-bd496d8839ba",title:"A less important question",type:"question",response_type:"text"},{type:"question",title:"And another",uuid:"e85b2b4e-f12a-4a4d-a7c2-d19fec8209b4",response_type:"number"}]}]},y={name:"ZJsonManager",props:["value"],data:function(){return{visibleImportDialog:!1,inputImportDialog:"",visibleExportDialog:!1,sampleJson:b}},methods:{openImportDialog:function(){this.visibleImportDialog=!0,this.inputImportDialog=""},openExportDialog:function(){this.visibleExportDialog=!0,this.$store.commit("saveVForm",this.value)},importJson:function(){try{var e=JSON.parse(this.inputImportDialog);this.$store.commit("saveVForm",e),this.$emit("input",this.$store.state.v_form),this.$message("loaded json successfully"),this.visibleImportDialog=!1}catch(e){this.$message.error("Error: failed to read JSON")}},inputSampleJson:function(){this.inputImportDialog=g()(this.sampleJson,null,4)}},computed:{valueByJson:function(){return g()(this.value,null,4)}}},R={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"json-manager"},[i("el-button",{attrs:{icon:"el-icon-download",type:"primary"},on:{click:e.openImportDialog}},[e._v("Import CSV")]),e._v(" "),i("el-dialog",{attrs:{title:"Import by CSV",visible:e.visibleImportDialog,width:"60%"},on:{"update:visible":function(t){e.visibleImportDialog=t}}},[i("span",[i("el-button",{attrs:{type:"success",plain:""},on:{click:e.inputSampleJson}},[e._v("Load Sample JSON")]),e._v(" "),i("el-input",{attrs:{rows:13,type:"textarea",placeholder:"(paste json here)"},model:{value:e.inputImportDialog,callback:function(t){e.inputImportDialog=t},expression:"inputImportDialog"}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(t){e.visibleImportDialog=!1}}},[e._v("Cancel")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.importJson}},[e._v("Import")])],1)]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-upload2",type:"danger"},on:{click:e.openExportDialog}},[e._v("Export CSV")]),e._v(" "),i("el-dialog",{attrs:{title:"Export by CSV",visible:e.visibleExportDialog,width:"60%"},on:{"update:visible":function(t){e.visibleExportDialog=t}}},[i("span",[i("el-input",{attrs:{rows:13,type:"textarea",value:e.valueByJson,readonly:""}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.visibleExportDialog=!1}}},[e._v("Close")])],1)])],1)},staticRenderFns:[]};var x={name:"Main",data:function(){return{value:{}}},components:{ZForm:h,ZJsonManager:i("VU/8")(y,R,!1,function(e){i("YHY2")},"data-v-a7404878",null).exports}},C={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("h1",[e._v("üêàShawn's Nice Form builderüêà")]),e._v(" "),i("z-json-manager",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),i("z-form",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},staticRenderFns:[]};var E=i("VU/8")(x,C,!1,function(e){i("s0iZ")},"data-v-36b5f2a8",null).exports;n.default.use(u.a),n.default.use(s.a),n.default.use(r.a,{locale:c.a});new s.a.Store({state:{test:"this is test statement for vuex"}});var k=new u.a({routes:[{path:"/",name:"Main",component:E}]}),$=new s.a.Store({state:{v_form:{}},mutations:{saveVForm:function(e,t){e.v_form=t}}});n.default.config.productionTip=!1,new n.default({el:"#app",router:k,store:$,components:{App:a},data:{},template:"<App/>"})},VGwM:function(e,t){},YHY2:function(e,t){},o8nZ:function(e,t){},s0iZ:function(e,t){},tNUb:function(e,t){},tvR6:function(e,t){},wqFC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editbox"},[e.isEditing?[i("el-button",{attrs:{icon:"el-icon-check",type:"success"},on:{click:function(t){return e.$emit("save")}}}),e._v(" "),i("el-button",{attrs:{icon:"el-icon-close",type:"danger"},on:{click:function(t){return e.$emit("cancelEdit")}}})]:[i("el-button",{attrs:{icon:"el-icon-edit",type:"primary",circle:""},on:{click:function(t){return e.$emit("edit")}}}),e._v(" "),i("el-dropdown",{on:{command:e.addNewRow}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"success",circle:""}}),e._v(" "),i("el-dropdown-menu",[e._t("add-dropdown")],2)],1),e._v(" "),i("el-button",{attrs:{icon:"el-icon-arrow-up",type:"warning",circle:""},on:{click:function(t){return e.$emit("moveRowUpward")}}}),e._v(" "),i("el-button",{attrs:{icon:"el-icon-arrow-down",type:"warning",circle:""},on:{click:function(t){return e.$emit("moveRowDownward")}}}),e._v(" "),i("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:""},on:{click:function(t){return e.$emit("deleteSelf")}}})]],2)},staticRenderFns:[]};var o=i("VU/8")({name:"ZRowEditor",props:["isEditing"],methods:{addNewRow:function(e){this.$emit("addNewRow",e)}}},n,!1,function(e){i("IvGn")},"data-v-62326cf0",null).exports,a=i("BO1k"),s=i.n(a),l={data:function(){return{editing_data:null,editable_keys:["title"]}},methods:{edit:function(){this.editing_data={};var e=!0,t=!1,i=void 0;try{for(var n,o=s()(this.editable_keys);!(e=(n=o.next()).done);e=!0){var a=n.value;this.$set(this.editing_data,a,this.value[a])}}catch(e){t=!0,i=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw i}}},save:function(){var e=!0,t=!1,i=void 0;try{for(var n,o=s()(this.editable_keys);!(e=(n=o.next()).done);e=!0){var a=n.value;console.log(a),this.value[a]=this.editing_data[a]}}catch(e){t=!0,i=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw i}}this.editing_data=null},cancelEdit:function(){this.editing_data=null}},computed:{isEditing:function(){return null!=this.editing_data}}},r=i("6Rh/"),d={name:"ZPage",mixins:[l,r.a],components:{ZRowEditor:o,ZFormContainer:function(){return new Promise(function(e){e()}).then(i.bind(null,"wqFC"))}},props:["value","IndexOfRow"],methods:{addNewRow:function(e){"page"!==e?("section"===e&&this.addChildRow({type:"section",title:"new section"}),"question"===e&&this.addChildRow({type:"question",title:"new question"})):this.$emit("add",{type:"page",title:"new page"},this.IndexOfRow)}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row page"},[e.isEditing?[i("i",{staticClass:"el-icon-notebook-1"}),e._v(" "),i("h2",[i("el-input",{model:{value:e.editing_data.title,callback:function(t){e.$set(e.editing_data,"title",t)},expression:"editing_data.title"}})],1)]:[i("i",{staticClass:"el-icon-notebook-1"}),e._v(" "),i("h2",[e._v(e._s(e.value.title))])],e._v(" "),i("div",{staticClass:"attribute empty"}),e._v(" "),i("z-row-editor",{attrs:{"is-editing":e.isEditing},on:{save:e.save,cancelEdit:e.cancelEdit,edit:e.edit,addNewRow:e.addNewRow,moveRowUpward:e.moveRowUpward,moveRowDownward:e.moveRowDownward,deleteSelf:e.deleteSelf},scopedSlots:e._u([{key:"add-dropdown",fn:function(){return[i("el-dropdown-item",{attrs:{icon:"el-icon-notebook-1",command:"page"}},[e._v("Add Page")]),e._v(" "),i("el-dropdown-item",{attrs:{icon:"el-icon-postcard",command:"section"}},[e._v("Add Section inside this page")]),e._v(" "),i("el-dropdown-item",{attrs:{icon:"el-icon-question",command:"question"}},[e._v("Add Question inside this page")])]},proxy:!0}])})],2),e._v(" "),e.value.items?i("div",{staticClass:"page-container"},[i("z-form-container",{model:{value:e.value.items,callback:function(t){e.$set(e.value,"items",t)},expression:"value.items"}})],1):e._e()])},staticRenderFns:[]};var u=i("VU/8")(d,c,!1,function(e){i("tNUb")},"data-v-7aed884d",null).exports,p={name:"ZSection",mixins:[l,r.a],components:{ZRowEditor:o,ZFormContainer:function(){return new Promise(function(e){e()}).then(i.bind(null,"wqFC"))}},props:["value","IndexOfRow"],methods:{addNewRow:function(e){"section"===e&&this.addChildRow({type:"section",title:"new section"}),"question"===e&&this.addChildRow({type:"question",title:"new question",response_type:"text"})}}},v={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row section"},[e.isEditing?[i("i",{staticClass:"el-icon-postcard"}),e._v(" "),i("h3",[i("el-input",{model:{value:e.editing_data.title,callback:function(t){e.$set(e.editing_data,"title",t)},expression:"editing_data.title"}})],1)]:[i("i",{staticClass:"el-icon-postcard"}),e._v(" "),i("h3",[e._v(e._s(e.value.title))])],e._v(" "),i("div",{staticClass:"attribute empty"}),e._v(" "),i("z-row-editor",{attrs:{"is-editing":e.isEditing},on:{save:e.save,cancelEdit:e.cancelEdit,edit:e.edit,addNewRow:e.addNewRow,moveRowUpward:e.moveRowUpward,moveRowDownward:e.moveRowDownward,deleteSelf:e.deleteSelf},scopedSlots:e._u([{key:"add-dropdown",fn:function(){return[i("el-dropdown-item",{attrs:{icon:"el-icon-question",command:"question"}},[e._v("Add Question inside this section")]),e._v(" "),i("el-dropdown-item",{attrs:{icon:"el-icon-postcard",command:"section"}},[e._v("Add Section inside this section")])]},proxy:!0}])})],2),e._v(" "),i("div",{staticClass:"section-container"},[i("z-form-container",{attrs:{name:"foo",addable:e.addable},model:{value:e.value.items,callback:function(t){e.$set(e.value,"items",t)},expression:"value.items"}})],1)])},staticRenderFns:[]};var m=i("VU/8")(p,v,!1,function(e){i("4FzG")},"data-v-34feb6c8",null).exports,f={name:"ZQuestion",mixins:[l,r.a],components:{ZRowEditor:o},props:["value","IndexOfRow"],data:function(){return{editable_keys:["title","response_type"]}},methods:{addNewRow:function(){this.$emit("add",{type:"question",title:"new question",response_type:"text"},this.IndexOfRow)}},computed:{tagType:function(){return"text"===this.value.response_type?"primary":"number"===this.value.response_type?"warning":"normal"}}},w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row question"},[e.isEditing?[i("i",{staticClass:"el-icon-question"}),e._v(" "),i("h4",[i("el-input",{model:{value:e.editing_data.title,callback:function(t){e.$set(e.editing_data,"title",t)},expression:"editing_data.title"}})],1)]:[i("i",{staticClass:"el-icon-question"}),e._v(" "),i("h4",[e._v(e._s(e.value.title))])],e._v(" "),i("div",{staticClass:"attribute"},[e.isEditing?i("el-select",{model:{value:e.editing_data.response_type,callback:function(t){e.$set(e.editing_data,"response_type",t)},expression:"editing_data.response_type"}},[i("el-option",{key:0,attrs:{value:"number",label:"Number"}}),e._v(" "),i("el-option",{key:1,attrs:{value:"text",label:"Text"}})],1):i("el-tag",{attrs:{type:e.tagType}},[e._v(e._s(e.value.response_type))])],1),e._v(" "),i("z-row-editor",{attrs:{"is-editing":e.isEditing},on:{save:e.save,cancelEdit:e.cancelEdit,edit:e.edit,addNewRow:e.addNewRow,moveRowUpward:e.moveRowUpward,moveRowDownward:e.moveRowDownward,deleteSelf:e.deleteSelf},scopedSlots:e._u([{key:"add-dropdown",fn:function(){return[i("el-dropdown-item",{attrs:{icon:"el-icon-question",command:"question"}},[e._v("Add Question")])]},proxy:!0}])})],2)},staticRenderFns:[]};var h=i("VU/8")(f,w,!1,function(e){i("BFrk")},"data-v-3544570a",null).exports,_={name:"ZFormContainer",mixins:[r.a],components:{ZPage:u,ZSection:m,ZQuestion:h},props:["value"],methods:{getComponentNameFrom:function(e){return"page"===e?"z-page":"section"===e?"z-section":"question"===e?"z-question":"z-section"}}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.value,function(t,n){return[i(e.getComponentNameFrom(t.type),{key:t.uuid,tag:"component",attrs:{"index-of-row":n},on:{add:e.addSiblingRow,delete:e.deleteSiblingRow,swap:e.swapSiblingRow},model:{value:e.value[n],callback:function(t){e.$set(e.value,n,t)},expression:"value[index]"}})]})],2)},staticRenderFns:[]};var b=i("VU/8")(_,g,!1,function(e){i("DdtQ")},"data-v-357a36e4",null);t.default=b.exports}},["NHnr"]);
//# sourceMappingURL=app.6a81fb967a64103e7326.js.map